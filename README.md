# MLS fantasy data
Welcome,

This repo builds and deploys https://mls-fantasy-data.fly.dev/ 

## Run locally with Python
1. Build CSV file:
   ```
   python3 combine.py
   ```
3. Move CSV file into app folder:
   ```
   mv player_stats.csv app
   ```
5. Deploy app:
   ```
   python3 app/app.py
   ```
## Run locally with Docker
1. Build CSV file:
   ```
   python3 combine.py
   ```
2. Move CSV file into app folder:
   ```
   mv player_stats.csv app
   ```
3. Build Docker container
   ```
   cd app
   docker build -t mls-fantasy-data .
   ```
4. Run Docker container
   ```
   docker run -p 8080:80 mls-fantasy-data
   ``` 


## Other scripts
`list-of-player-id.py`
Generates a list:
```
1283,Sean,Zawadzki,Sean Zawadzki
1053,Walker,Zimmerman,Walker Zimmerman
2385,Philip,Zinckernagel,None
2079,Rida,Zouhir,None
1726,Dario,Zuparic,Dario Zuparic%  
```

`player-data-fantasy-stats.py`

Takes the list generated by list of players and returns the following data

 ```
mls-fantasy-data|main⚡ ⇒ python3 player-data-fantasy-stats.py 
Enter player id, first name, last name, or known name to search: dreyer
Data has been exported to search_results.csv
mls-fantasy-data|main⚡ ⇒ cat search_results.csv 
id,sportec_id,first_name,last_name,known_name,squad_id,cost,status,stats,positions,is_bye,locked,season_stats
2466,MLS-OBJ-00081N,Anders,Dreyer,,17013,9100000,playing,"{'scores': {'3': 12, '2': 6}, 'match_scores': {'20250310': 12, '20250210': 6}, 'round_rank': 6, 'season_rank': 5, 'games_played': 2, 'total_points': 18, 'avg_points': 9, 'last_match_points': 12, 'high_score': 12, 'low_score': 6, 'last_3_avg': 9, 'last_5_avg': 9, 'selections': 962, 'owned_by': 7.67, 'projected_scores': {'20250410': 7.3}, 'prices': {'2': 8300000, '3': 8600000, '4': 9100000}}",[3],0,0,"{'GL': 3, 'ASS': 0, 'PE': 0, 'PS': 0, 'BP': 11}"
```

`player-game-stats.py`

Takes the list generated by list of players and returns the following data

```
mls-fantasy-data|main⚡ ⇒ python3 player-game-stats.py        
Enter the player's name or ID to search: dreyer
Player ID for 'dreyer': 2466
[{'match_id': 20250115, 'stats': {'MIN': 90, 'GL': 2, 'ASS': 0, 'GC': 0, 'CS': 1, 'GS': 0, 'PS': 0, 'PM': 0, 'YC': 0, 'RC': 0, 'OG': 0, 'SGS': 3, 'FS': 2, 'PSS': 36, 'APS': 30, 'CRS': 0, 'KP': 5, 'ASG': 1, 'SH': 4, 'CL': 0, 'INT': 0, 'WF': 1}}, {'match_id': 20250210, 'stats': {'MIN': 90, 'GL': 0, 'ASS': 0, 'GC': 0, 'CS': 1, 'GS': 0, 'PS': 0, 'PM': 0, 'YC': 0, 'RC': 0, 'OG': 0, 'SGS': 2, 'FS': 1, 'PSS': 50, 'APS': 40, 'CRS': 3, 'KP': 8, 'ASG': 3, 'SH': 5, 'CL': 0, 'INT': 0, 'WF': 0}}, {'match_id': 20250310, 'stats': {'MIN': 90, 'GL': 1, 'ASS': 0, 'GC': 1, 'CS': 0, 'GS': 0, 'PS': 0, 'PM': 0, 'YC': 0, 'RC': 0, 'OG': 0, 'SGS': 4, 'FS': 0, 'PSS': 29, 'APS': 27, 'CRS': 1, 'KP': 18, 'ASG': 7, 'SH': 11, 'CL': 0, 'INT': 0, 'WF': 0}}, {'round_id': 'all', 'stats': {'MIN': 270, 'GL': 3, 'ASS': 0, 'GC': 1, 'CS': 2, 'GS': 0, 'PS': 0, 'PM': 0, 'YC': 0, 'RC': 0, 'OG': 0, 'SGS': 9, 'FS': 3, 'PSS': 115, 'APS': 97, 'CRS': 4, 'KP': 31, 'ASG': 11, 'SH': 20, 'CL': 0, 'INT': 0, 'WF': 1}}]
```

# Thank you to testers
- agtk
- xward
